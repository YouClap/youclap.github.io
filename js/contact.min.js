const submitContactForm=form=>{const username=form.username.value,email=form.email.value,message=form.message.value;console.log("username ",username,"email ",email," message ",message);const url="https://us-central1-youclap-prod.cloudfunctions.net/api/website/contact",data={username:username,email:email,message:message},formData=Object.keys(data).reduce((previous,current)=>previous.concat([current+"="+data[current]]),[]).join("&");let htmlRequest=new XMLHttpRequest;htmlRequest.onreadystatechange=(_event=>{switch(htmlRequest.readyState){case htmlRequest.OPENED:showLoader();break;case htmlRequest.LOADING:break;case htmlRequest.DONE:hideLoader(),showSuccessFeedbackMessage(),form.reset();break;case htmlRequest.UNSENT:hideLoader(),showFailedFeedbackMessage()}console.log("html request ",htmlRequest.readyState)}),htmlRequest.open("POST",url,!0),htmlRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),htmlRequest.withCredentials=!0,htmlRequest.send(formData)},showSuccessFeedbackMessage=()=>{const element=document.getElementById("contact-form-feedback");element.innerText="Thank you for your message. It has been sent.",element.classList.add("form-mail-sent-ok")},showFailedFeedbackMessage=()=>{const element=document.getElementById("contact-form-feedback");element.innerText="Something went wrong while sending information",element.classList.add("form-mail-sent-ok")},showWarningFeedbackMessage=()=>{const element=document.getElementById("contact-form-feedback");element.innerText="Please check if the fields in the form are filled",element.classList.add("form-mail-sent-ok")},showLoader=()=>{document.getElementById("contact-form-submit-loader").classList.add("loading")},hideLoader=()=>{document.getElementById("contact-form-submit-loader").classList.remove("loading")};$(document).ready(()=>{$("#contact-form").validate({rules:{username:"required",message:"required",terms:"required",email:{required:!0,email:!0}},message:{username:"This field is required",email:"Enter a valid email",message:"This field is required",terms:"You have to accept the terms and conditions"},submitHandler:submitContactForm})});